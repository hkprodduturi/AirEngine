import{r as m,j as e}from"./index-mnKgG136.js";const c="http://localhost:3001/api";class f extends Error{constructor(t,r){super((r==null?void 0:r.error)||(r==null?void 0:r.message)||`Request failed with status ${t}`),this.status=t,this.body=r}}async function h(s){if(!s.ok){let r={};try{r=await s.json()}catch{}throw new f(s.status,r)}if(s.status===204)return null;const t=await s.text();return t?JSON.parse(t):null}async function p({page:s,limit:t,search:r,sort:o}={}){const a=new URLSearchParams;s!==void 0&&a.set("page",String(s)),t!==void 0&&a.set("limit",String(t)),r&&a.set("search",r),o&&a.set("sort",o);const n=a.toString(),i=n?`${c}/posts?`+n:`${c}/posts`,l=await fetch(i);return h(l)}async function g(s){const t=await fetch(`${c}/posts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return h(t)}async function v(s){const t=await fetch(`${c}/posts/${s}`,{method:"DELETE"});return h(t)}async function b({page:s,limit:t,search:r,sort:o}={}){const a=new URLSearchParams;s!==void 0&&a.set("page",String(s)),t!==void 0&&a.set("limit",String(t)),r&&a.set("search",r),o&&a.set("sort",o);const n=a.toString(),i=n?`${c}/categories?`+n:`${c}/categories`,l=await fetch(i);return h(l)}async function j(s){const t=await fetch(`${c}/categories`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return h(t)}function k({children:s,user:t,logout:r,currentPage:o,setCurrentPage:a}){const[n,i]=m.useState(!1),l=[{key:"posts",label:"Posts",icon:"M4 6h16M4 12h16M4 18h16"},{key:"editor",label:"Editor",icon:"M4 6h16M4 12h16M4 18h16"},{key:"blog",label:"Blog",icon:"M4 6h16M4 12h16M4 18h16"}];return e.jsxs("div",{className:"flex min-h-screen bg-[var(--bg)]",children:[n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),e.jsxs("aside",{className:`
        fixed lg:sticky top-0 left-0 z-50 h-screen w-64
        bg-[var(--surface)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-200 ease-in-out
        ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[e.jsxs("div",{className:"flex items-center gap-3 px-5 h-16 border-b border-[var(--border)] shrink-0",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--accent)] flex items-center justify-center text-white font-bold text-sm",children:"B"}),e.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Blog"})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-1",children:l.map(d=>{const x=o===d.key;return e.jsxs("button",{onClick:()=>{a(d.key),i(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-150 ${x?"bg-[var(--accent)] text-white shadow-sm shadow-[var(--accent)]/20":"text-[var(--muted)] hover:text-[var(--fg)] hover:bg-[var(--hover)]"}`,children:[e.jsx("svg",{className:"w-5 h-5 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:x?2:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:d.icon})}),d.label]},d.key)})}),e.jsxs("div",{className:"border-t border-[var(--border)] p-4 shrink-0",children:[t&&e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-[var(--accent)]/20 flex items-center justify-center text-[var(--accent)] font-semibold text-sm",children:(t.name||t.email||"?").charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:t.name||t.email}),t.role&&e.jsx("div",{className:"text-xs text-[var(--muted)] truncate",children:t.role})]})]}),e.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-[var(--muted)] hover:text-red-400 hover:bg-red-400/10 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign out"]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[e.jsxs("header",{className:"lg:hidden flex items-center gap-3 px-4 h-14 border-b border-[var(--border)] bg-[var(--surface)] sticky top-0 z-30",children:[e.jsx("button",{onClick:()=>i(!0),className:"p-2 -ml-2 rounded-lg hover:bg-[var(--hover)] transition-colors","aria-label":"Open sidebar",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),e.jsx("span",{className:"font-semibold",children:"Blog"})]}),e.jsx("main",{className:"flex-1 p-6 lg:p-8 animate-fade-in",children:s})]})]})}export{k as L,b as a,j as b,g as c,v as d,p as g};
